<div class="profile-container">
    <div class="profile-header">
        <div class="profile-avatar-placeholder">
            <div class="avatar-circle">
                {{ userInitials() }}
            </div>
        </div>
        <div class="profile-info">
            <h1 class="profile-title">{{ userDisplayName() || 'User Profile' }}</h1>
            <p class="profile-subtitle">Manage your personal information</p>
            @if (currentUser()) {
            <p class="profile-email">{{ currentUser()?.email }}</p>
            }
        </div>
    </div>

    <form [formGroup]="Person" (ngSubmit)="onSubmit()" class="profile-form">
        <div class="form-sections">
            <!-- Personal Information Section -->
            <section class="form-section">
                <h2 class="section-title">Personal Information</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="firstName" class="form-label">First Name</label>
                        <input id="firstName" formControlName="firstName" class="form-input"
                            placeholder="Enter your first name" type="text" />
                        <div class="input-error"
                            *ngIf="Person.get('firstName')?.invalid && Person.get('firstName')?.touched">
                            First name is required
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="lastName" class="form-label">Last Name</label>
                        <input id="lastName" formControlName="lastName" class="form-input"
                            placeholder="Enter your last name" type="text" />
                        <div class="input-error"
                            *ngIf="Person.get('lastName')?.invalid && Person.get('lastName')?.touched">
                            Last name is required
                        </div>
                    </div>

                    <div class="form-group full-width">
                        <label for="email" class="form-label">Email Address</label>
                        <input id="email" formControlName="email" class="form-input"
                            placeholder="Enter your email address" type="email" />
                        <div class="input-error" *ngIf="Person.get('email')?.invalid && Person.get('email')?.touched">
                            Please enter a valid email address
                        </div>
                    </div>
                </div>
            </section>

            <!-- Additional Information Section -->
            <section class="form-section">
                <h2 class="section-title">Additional Information</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="phone" class="form-label">Phone Number</label>
                        <input id="phone" formControlName="phone" class="form-input" placeholder="+1 (555) 123-4567"
                            type="tel" />
                    </div>

                    <div class="form-group">
                        <label for="dateOfBirth" class="form-label">Date of Birth</label>
                        <input id="dateOfBirth" formControlName="dateOfBirth" class="form-input" type="date" />
                    </div>

                    <div class="form-group full-width">
                        <label class="checkbox-label">
                            <input type="checkbox" formControlName="isActive" class="checkbox-input">
                            <span class="checkbox-custom"></span>
                            Account Active
                        </label>
                    </div>
                </div>
            </section>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
            <button type="button" (click)="onCancel()" class="btn-secondary">Cancel</button>
            <button type="submit" [disabled]="Person.invalid" class="btn-primary">Save Changes</button>
        </div>
    </form>
</div>