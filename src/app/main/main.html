<div [attr.data-theme]="isDarkMode() ? 'dark' : null">
  <!-- Hero Section -->
   <!-- Cart Modal Overlay -->
   
  <app-search-page [featuredProducts]="featuredProducts()" [addToCart]="addToCart.bind(this)"></app-search-page>

  <!-- Categories Section -->
  <section class="categories">
    <div class="container">
      <h2 class="section-title">Shop by Category</h2>
      <div class="categories-grid">
        @for (category of categories(); track category.name) {
        <div class="category-card" (click)="categoryClicked(category.name)">
          <div class="category-icon">{{ category.picture }}</div>
          <h3>{{ category.name }}</h3>
        </div>
        }
      </div>
    </div>
  </section>

  <!-- Featured Products Section -->
  <section class="featured-products">
    <div class="container">
      <h2 class="section-title">Featured Products</h2>
      <div class="products-grid">
        @for (product of featuredProducts(); track product.productId) {
        <div class="product-card">
          <a [routerLink]="['/product', product.productId]" class="product-link" [style.color]="isDarkMode() ? 'white' : 'black'">
            <img [src]="product.imageLink" [alt]="product.productName" class="product-image">
          </a>
          <div class="product-info">
            <h3 class="product-name">
              <a [routerLink]="['/product', product.productId]" class="product-link" [style.color]="isDarkMode() ? 'white' : 'black'">{{ product.productName }}</a>
            </h3>
            <div class="product-inventory">
              <span class="inventory-label">In Stock:</span>
              <span class="inventory-count">{{ product.inventory }}</span>
            </div>
            <div class="product-price">${{ product.price }}</div>
            <div class="product-actions">
              <button class="add-to-cart-btn" (click)="addToCart(product.productId)">
                Add to Cart
              </button>
              @if (canManageProducts) {
              <button class="edit-icon-btn" (click)="editProduct(product.productId)" title="Edit Product">
                ✏️
              </button>
              }
            </div>
          </div>
        </div>
        }
      </div>
    </div>
  </section>
</div>
